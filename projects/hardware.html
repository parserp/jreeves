<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="../css/main.css">
</head>
<body>
	<h1>
		A brief overview of the hardware I run
	</h1>
	<a href="https://i.imgur.com/ZcjAh23.jpeg"><img src="https://i.imgur.com/ZcjAh23.jpeg"></a>
	<br>
	<h2>Hardware is listed from top to bottom.</h2>
	<br>
	<br>
	<h2>Switch - Aruba S2500-24P PoE</h2>
	<p>
		I purchased this switch in particular for 3 reasons: 1) All ports have PoE capabilities, 2) There are 4 SFP+ ports, and 3) it was under $100. 
		Beyond that, it's largely the same as most L3 switches. At some point I'll make the jump to fiber on the 10G links, but I'm not in any hurry because the DAC 
		copper cables work just fine, considering all the 10G switching is done within the rack itself. One of the biggest gripes that I have about this switch 
		(and lots of enterprise equipment in general), is that you're vendor locked on the types of cables you can use. I wound up getting some molex DACs that worked.
	</p>
	<br>
	<hr>
	<br>
	<h2>Router - Mikrotik RB4011iGS+RM</h2>
	<p>
		I was hesitant at the high price point about this, but I'm honestly sold now on Mikrotik. I've never had an issue with the hardware since I bought it ~1 year ago, 
		and RouterOS is an amazing tool (though with a bit of a learning curve). Between various projects, I route between 20-30 TiB of data per month, 
		which equates to an average use of ~65-97 Mbps average constant load. On top of this I've got several firewall and filter rules (not a ton), 
		and the overall CPU/RAM usage is about 10%. Currently I'm on symmetric gigabit fiber from my ISP, I'd love to go for 10G at some point. Unfortunately, 
		10G plans are over $200/month so I just can't justify the cost... yet.
	</p>
	<br>
	<hr>
	<br>
	<h2>Supermicro 2U Chassis</h2>
	<p>
		This is the most hodge-podge aspect of my rack - I bought the chassis with some outdated motherboard on a surplus clearance sale, and tossed the motherboard. 
		What did I replace it with? A slightly less sucky motherboard I bought from another surplus sale, of course! Specs:
	</p>
	<ul style=“list-style-type:square”>
	<li>Lenovo proprietary motherboard</li>
	<li>Core i7-4790</li>
	<li>16 GB DDR3 1600Mhz</li>
	<li>128GB SSD (boot drive, I had it laying around)</li>
	<li>2TB Crucial SSD (used as temp storage & working directory)</li>
	<li>10G networking card (SFP+ DAC connected to switch)</li>
	</ul>
	<p>
		So... a little underpowered, but it works for what I use it for. The 3 fans in the mid wall are Nidec Ultraflow V80E12BHA5-57, 
		which are the same as the 4U chassis, but I've never had a problem with the noise level, even with the cpu under 100% load.
		This box operates as my main seedbox, and it runs all of my backup scripts (mostly .bat files run nightly, Rclone to backup to GDrive).
	</p>
	<br>
	<hr>
	<br>
	<h2>Supermicro 4U Chassis</h2>
	<p>
		This is the bread and butter of the "lab". This is the 24 bay version of the 846 chassis, not the 36 bay. The operating system running is TrueNAS. 
		My Plex and NextCloud servers run as jails on this box. These are the specs:
	</p>
	<ul style=“list-style-type:square”>
		<li>Supermicro X9DRi-F</li>
		<li>2 x Xeon 2696 v2 with Supermicro active coolers (SNK-P0050AP4)</li>
		<li>256GB DDR3 ECC 1066 Mhz (lots of RAM, but not that great of RAM)</li>
		<li>LSI 9211-8i</li>
		<li>10G networking card (SFP+ DAC connected to switch)</li>
		<li>PWS-920P-SQ (this power supply was WAY quieter than the original 1200W one)</li>
		<li>2 x 1TB NVMe drives (these are mirrored and store the jail metadata)</li>
		<li>14 x 14TB WD Shucked HDDs - running in a RAID-Z3 configuration. Total usable pool capacity is 125 TiB.</li>
		<li>1 x 12TB WD Shucked HDD - operating a backup for important data (non Movies/TV Shows). At some point this will need to be expanded.</li>
		<li>9 x 3TB random SAS drives I bought for $20 a pop - running in a RAID-Z2 configuration. Acts as storage for the seedbox.</li>
	</ul>
	<p>
		It's a pretty capable server, but boy is it power hungry. Each of the CPUs has a TDP of 130W, plus there's overhead for the fact that the 
		CPUs have to distribute workload. With the drives going and the CPUs idle, it'll pull 300W at the wall, and can easily reach 700 when under 
		100% load.
		<br>
		<br>
		As far as what's running on the server, the Plex jail is pretty much vanilla, but NextCloud is fairly modified to act as a family photo server 
		(though it works good, it doesn't work great). I'll have to do a more thorough write up on my NextCloud configuration and photos "solution" at some point.
	</p>
	<br>
	<hr>
	<br>
	<h2>APC UPS - SUA1500RM2U</h2>
	<p>
		This was the largest size UPS I could get without adding a 20 or 30 amp circuit to my storage space. I wish I had buckled down and gone for it, because my 
		Supermicro 4U PSU complains when connected to such a small UPS. It does backup everything besides the main server, with about 50 minutes of runtime. 
		There is a smaller CyberPower UPS on top of the rack dedicated to just the router and ONT, with about 2 hours of runtime.
	</p>
	<br>
	<hr>
	<br>
	<h2>Not Pictured - 2 x Raspberry Pi</h2>
	<p>
		I believe one is a 3B+ and the other is a 4B 2GB. Between the two of them, they run PiHole, PiVPN, and the Plex Requests server. They also deal with a couple random 
		things like dealing with SSL certificates and keeping the dynamic DNS updated (though, my home IP address hasn't changed in a year, so it's not a big job).
	</p>
</body>
</html>
