<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="../css/main.css">
	<title>jreeves - Hardware</title>
	<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
</head>
<body>
	<h3><a href="../projects">← Back to projects list</a></h3>
	<h1>
		A brief overview of the hardware I run
	</h1>
	<img src="https://i.imgur.com/ZcjAh23.jpeg">
	<br>
	<h2>Hardware is listed from top to bottom.</h2>
	<br>
	<br>
	<h2>Hypervisor (not rack mounted, sitting on the top shelf)</h2>
	<p>
		I built this box with cost & power efficiency in mind. Most services have been virtualized on this machine - it has really cut down on a lot of other 
		hardware/electricity costs. Specs:
	</p>
	<ul>
		<li>Case - Rosewill FBM-X2 (awesome simple case for small builds)</li>
		<li>CPU - Ryzen 5 5600X</li>
		<li>RAM - Patriot Viper Steel 64GB DDR4 3600</li>
		<li>Motherboard - Gigabyte B550M Aorus Pro-P</li>
		<li>CPU Cooler - Thermalright Peerless Assassin 120 SE (this cooler fits in the case with literally 1mm to spare)</li>
		<li>PSU - Corsair SF450 Platinum</li>
		<li>Storage - 2 x Sky Hynix Gold P31 1TB NVMe (in a ZFS mirror)</li>
		<li>10G networking card added as well</li>
	</ul>
	<br>
	<hr>
	<br>
	<h2>Switch - Aruba S2500-24P PoE</h2>
	<p>
		I purchased this switch in particular for 3 reasons: 1) All ports have PoE capabilities, 2) There are 4 SFP+ ports, and 3) it was under $100. 
		Beyond that, it's largely the same as most L3 switches. At some point I'll make the jump to fiber on the 10G links, but I'm not in any hurry because the DAC 
		copper cables work just fine, considering all the 10G switching is done within the rack itself. One of the biggest gripes that I have about this switch 
		(and lots of enterprise equipment in general), is that you're vendor locked on the types of cables you can use. I wound up getting some molex DACs that worked.
	</p>
	<br>
	<hr>
	<br>
	<h2>Router - Mikrotik RB4011iGS+RM</h2>
	<p>
		I was hesitant at the high price point about this, but I'm honestly sold now on Mikrotik. I've never had an issue with the hardware since I bought it ~1 year ago, 
		and RouterOS is an amazing tool (though with a bit of a learning curve). Between various projects, I route between 20-30 TiB of data per month, 
		which equates to an average use of ~65-97 Mbps constant load. On top of this I've got several firewall and filter rules (not a ton), 
		and the overall CPU/RAM usage is about 10%. Currently I'm on symmetric gigabit fiber from my ISP, I'd love to go for 10G at some point. Unfortunately, 
		10G plans are over $200/month so I just can't justify the cost... yet.
	</p>
	<br>
	<hr>
	<br>
	<h2>Supermicro 2U Chassis</h2>
	<p>
		This houses my suveillance system, it's not the best option because it doesn't utilize the 3.5" drive bays in the front. At some point when I get something else to put in 
		there I'll put it in its own case. Build specs and more info are well documented <a href="../projects/surveillance">here.</a>
	</p>
	<br>
	<hr>
	<br>
	<h2>Supermicro 4U Chassis</h2>
	<p>
		Operates as my NAS. This is the 24 bay version of the 846 chassis, not the 36 bay. The operating system running is TrueNAS. 
		My Plex and NextCloud servers run as jails on this box. These are the specs:
	</p>
	<ul>
		<li>Supermicro H11SSL-i</li>
		<li>AMD Epyc 7282 (great processor, 120W TDP)</li>
		<li>Arctic Freezer 4U cooler (height-wise this cooler fits, length-wise I had to remove the rear fan to make room for the SM rear chassis fans)</li>
		<li>256GB DDR4 ECC 2133Mhz </li>
		<li>LSI 9211-8i</li>
		<li>10G networking card (SFP+ DAC connected to switch)</li>
		<li>PWS-920P-SQ (this power supply is WAY quieter than the original 1200W one)</li>
		<li>2 x 1TB NVMe drives (these are mirrored and store the jail metadata)</li>
		<li>14 x 14TB WD Shucked HDDs - running in a RAID-Z3 configuration. Total usable pool capacity is 125 TiB.</li>
		<li>1 x 12TB WD Shucked HDD - operating a backup for important data (sans replaceable media content). At some point this will need to be expanded. 
		And for all the backup sticklers: I keep a mirror of this drive offsite, as well as a GDrive backup of the entire server.</li>
		<li>9 x 3TB random SAS drives I bought for $20 a pop - running in a RAID-Z2 configuration. Acts as storage for the seedbox/surveillance system.</li>
	</ul>
	<p>
		The motherboard/cpu combo is reasonably power efficient, but obviously 24x7200RPM drives use up quite a bit of power. At idle it'll pull 250W at the wall.
		<br>
		<br>
		As far as what's running on the server, the Plex jail is pretty much vanilla, but NextCloud is fairly modified to act as a family photo server 
		(it works good, it doesn't work great). I'll have to do a more thorough write up on my NextCloud configuration and photos "solution" at some point.
	</p>
	<br>
	<hr>
	<br>
	<h2>APC UPS - SUA1500RM2U</h2>
	<p>
		This was the largest size UPS I could get without adding a 20 or 30 amp circuit to my storage space. I wish I had buckled down and gone for it, because my 
		Supermicro 4U PSU complains when connected to such a small UPS. It does backup everything besides the main server, with about 50 minutes of runtime. 
		There is a smaller CyberPower UPS on top of the rack dedicated to just the router and ONT, with about 2 hours of runtime.
	</p>
	<br>
	<hr>
	<br>
	<h2>Not Pictured - 2 x Raspberry Pi</h2>
	<p>
		I believe one is a 3B+ and the other is a 4B 2GB. Between the two of them, they run PiHole, PiVPN, and the Plex Requests server. They also deal with a couple random 
		things like dealing with SSL certificates and keeping the dynamic DNS updated (though, my home IP address hasn't changed in a year, so it's not a big job).
	</p>
	<br>
	<br>
	<h3><a href="../projects">← Back to projects list</a></h3>
</body>
</html>
